<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Kyle Johnson - Portfolio</title>
  <link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
  <link href="css/gallery.css" rel="stylesheet">
  <link href="css/gallery.theme.css" rel="stylesheet">
  <link href="css/summary.css" rel="stylesheet">
</head>
<body>
  <!-- Header -->
  <div class="header">

    <!-- Buttons -->
    <div class="header-buttons">
        <a href="index.html">Home</a>
        <a href="portfolio.html" class="active">C# Portfolio</a>
		<a href="PortfolioC++.html">C++ Portfolio</a>
		<a href="WorkEX.html">Work Experience</a>
		<a href="Resume.html">Resume</a>

    </div>

    <!-- Logo -->
    <div class="logo">
      <strong><a href="index.html">Kyle Johnson</a></strong>
    </div>
  </div>
  
  


  <div class="main">
    <br/>

    <div class="content">

	  <!-- Twilights Call Remaster -->
	<img src="Images/TwilightsCallTitle.png" alt="Title">
	    <a href="https://github.com/kjtherocker/Twilights-Call" target="_blank"><div class="tag-link">Click this for Twilight's Call Git Repo</div></a>
      
      <br/>

	  <div class="tag tag-teal">Personal Project</div>
      <div class="tag tag-teal">Unity</div>
      <div class="tag tag-blue">C#</div>
      <div class="tag tag-yellow">Tools</div>
      <div class="tag tag-blue">Only Programmer</div>

     <p style="color:Black;font-size:35px;">
	 
		Git Repo is now public.
	 
     </p>

	 <p>
			<b>Twilight's Call: A Hollow heart</b> is a Tactics Strategy game based on Fire Emblem and Disgaea programmed by me.
	 </p>
	  
	  
	 <p>
		
	   <p style="color:Black;font-size:35px;">
	 
		Domain
	 
     </p>

		
		<p>
		The unique gameplay feature of the game are that all the walkable ground in the game can be manipulated to both the player or 
		enemy's advantage. This system is called "Domains". Each playable character has their own unique Domain and can coat the world 
		in their respective colours. For example, the main character Sigma uses their Domain ability, Patchwork Chimera, to steal the
		Domain ability of anyone within their own.This offers great tactical weight and morphs every move you make into a miniature puzzle.
		</p>
		

	 
	 
	 </p>
<div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	
          <summary>Domain Code</summary>
		   
     </p>
 	 <p>
	 
		At the start of the sequence I get the list of avaliable nodes that can be activated. Then I loop through all the nodes and by 
		using the character's reference to his Domain class, I get the correct texture, name and Domain effect.
		Now that the node has the information on the Domain; each of the nodes then communicate with the shader to dissolve into the new texture.
		
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="136">


//This function checks each node that can be domained within the range
    public HashSet<CombatNode> GetNodesInRange(List<CombatNode> aCells, CombatNode aNodeHeuristicIsBasedOff, int aRange)
    {
	
        cachedPaths = new Dictionary<CombatNode, List<CombatNode>>();

//Getting the nodes 
        var paths = cachePaths(aCells, aNodeHeuristicIsBasedOff,
            m_Creature.m_Domain.CheckIfNodeIsClearAndReturnNodeIndex);
			
// Looping through each node to check the heuristic cost
        foreach (var key in paths.Keys)
        {
            var path = paths[key];

            var pathCost = path.Sum(c => 1);
            key.m_Heuristic = pathCost;
            if (pathCost <= aRange)
            {
                cachedPaths.Add(key, path);
            }
     }

     return new HashSet<CombatNode>(cachedPaths.Keys);




-----------------------------------------------------------------------------------------



//The function that is used at the end when we have the nodes that can be domained
    public void ActivateDomain()
    {

//Loop through the nodes that will now be domained
        foreach (CombatNode node in m_NodeInDomainRange)
        {
            node.m_DomainCombatNode = CombatNode.DomainCombatNode.Domain;
            node.DomainOnNode = m_Creature.m_Domain;
			node.RemoveWalkableArea(CombatNode.CombatNodeAreaType.Domainable);

//Check to see if there is a creature on the node to be domained
            if (node.m_CreatureOnGridPoint != null)
            { 
                node.DomainOnNode.DomainEffect(ref node.m_CreatureOnGridPoint);
                node.m_CreatureOnGridPoint.DomainAffectingCreature = m_Creature.m_Domain.DomainName;
                
            }
            
//Transfering the new texture to be the same as this creatures domain
            node.DomainTransfer(m_Creature.m_Domain.m_DomainTexture);
        }
        

//Checks if two domains are right beside each other to clash
        foreach (CombatNode node in m_NodeInDomainRange)
        {
            node.DomainClashing();
        }
    }

---------------------------------------------------------------------------------------------


    public void DomainTransfer(Material aDomainMaterial)
    {
        m_DomainSwapAmount = 0;
        
        if (aDomainMaterial != null)
        {
//Setting the materials that will be considered the second in the dissolve shader
            m_MeshRenderer.materials[1].SetTexture("_SecTex", aDomainMaterial.mainTexture); 
            m_MeshRenderer.materials[1].SetColor("_SecColor", aDomainMaterial.color);
        }

        StartCoroutine(DomainChangeAnimation(true));
    }
	
	
-------------------------------------------------------------------------------------------

//Dissolve shader
Shader "Custom/Dissolve" {
    Properties {
        _Color ("Color", Color) = (1,1,1,1)
        _MainTex ("Albedo (RGB)", 2D) = "white" {}
        _SecTex ("Albedo (RGB)", 2D) = "white" {}
        _SecColor ("Color", Color) = (1,1,1,1)
        _SliceGuide("Slice Guide (RGB)", 2D) = "white" {}
        _SliceAmount("Slice Amount", Range(0.0, 1.0)) = 0
 
        _BurnSize("Burn Size", Range(0.0, 1.0)) = 0.15
        _BurnRamp("Burn Ramp (RGB)", 2D) = "white" {}
        _BurnColor("Burn Color", Color) = (1,1,1,1)
 
        _EmissionAmount("Emission amount", float) = 2.0
    }
    SubShader {
        Tags { "RenderType"="Opaque" }
        LOD 200
        Cull Off
        CGPROGRAM
        #pragma surface surf Lambert addshadow
        #pragma target 3.0
 
        fixed4 _Color;
        fixed4 _SecColor;
        sampler2D _MainTex;
        sampler2D _SecTex;
        sampler2D _SliceGuide;
        sampler2D _BumpMap;
        sampler2D _BurnRamp;
        fixed4 _BurnColor;
        float _BurnSize;
        float _SliceAmount;
        float _EmissionAmount;
 
        struct Input {
            float2 uv_MainTex;
            float2 uv_SecTex;
        };
 
 
        void surf (Input IN, inout SurfaceOutput o) 
        {
		
//Grabbing the textures
            fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color;
            fixed4 c2 = tex2D (_SecTex, IN.uv_SecTex) * _SecColor;
			
//Getting the sliced version of the texture
            half SlicedTexture = tex2D(_SliceGuide, IN.uv_MainTex).rgb - _SliceAmount;
			
//Final Result is the inverse of the sliced texture
            fixed4 Result =  !SlicedTexture;
           
           if(SlicedTexture < 0)
           {
             o.Albedo = c2.rgb;
           }
           else
           {
             o.Albedo = c.rgb;
           }
           
		   

            if (SlicedTexture < _BurnSize && _SliceAmount > 0) 
            {


//The first texture will now be burned into the second texture during the dissolve
                o.Emission = tex2D(_BurnRamp, float2(SlicedTexture * (1 / _BurnSize), 0)) * _BurnColor * _EmissionAmount * c2;
            }

            o.Alpha = c.a;
        }
        ENDCG
    }
    FallBack "Diffuse"
}

	</textarea>
	 

		  
		  
		        <p>
		<b>Gameplay Example</b>
	 </p>
	  
<iframe width="975" height="315" src="https://www.youtube.com/embed/movpO3WbKYY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </details>

      </article>
      </div>


</section>
</body>

	   <p style="color:Black;font-size:35px;">
	 
		Memoria
	 
     </p>

	 <p>	
	    Another original feature is the Memoria system. 
	    When an enemy dies they leave behind their memoriess and skills, represented by a floating blue soul called Memoria.
	    When a character collects an enemy's Memoria, they can choose between three of the skills the former enemy possessed.
	 </p>

		
		<!--Memoria Start-->
<div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	
          <summary>Memoria Code</summary>
		   
     </p>
 	  <p>
		When a creature is iniitally spawned, it has a set loot table .When the Creature is killed in combat it gets pushed to spawn a memoria object
		in the scene. Attached with references to the skills completely divorced from the enemy that is now deleted.
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="136">
	 
	 
//Character Class
    void Start()
    {
	//Setting Default Values
        CurrentHealth = 30;
        MaxHealth = 30;
        CurrentMana = 10;
        MaxMana = 10;
        Strength = 75;
        Magic = 40;
        Hit = 20;
        Evasion = 20;
        Defence = 20;
        Resistance = 20;


// If the creature has no unique name get one from name lookup table
        if (Name == "No Name")
        {
            Name = GameManager.Instance.m_NameGenerator.GetName();
            transform.name = Name;
        }

//Default Motifiers from Super class
        SetCreature();

//Getting Skills from Skill Lookup table that has an intance of every skill
        m_Attack = m_CreatureSkillList.SetSkills(SkillList.SkillEnum.Attack);
                
        m_Skills.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.HolyWater));
        m_Skills.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.ShadowBlast));
        m_Skills.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.PheonixSpirit));
        m_Skills.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.icerain));


//Memoria Lookup table for what the enemy drops on death
        m_SkillLootTable.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.FireBall));
        m_SkillLootTable.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.HolyWater));
        m_SkillLootTable.Add(m_CreatureSkillList.SetSkills(SkillList.SkillEnum.Restrict));
        

//Setting default turn size        
        AmountOfTurns = 1;

//Getting the movement type such as Flying or Standard
        m_CreaturesMovementType = m_MovementList.ReturnMovementType(MovementList.MovementCategories.Normal);

//Get the model of the creature from this direct link
        Model = (GameObject)Resources.Load("Objects/Battle/Enemy/Forest/RedKnights/Pref_RedKnight_Phase1", typeof(GameObject));

        m_Texture = (Material)Resources.Load("Materials/Portrait/Material_GreenSlime", typeof(Material));


//Setting Enemy 
        charactertype = Charactertype.Enemy;
		
//Setting Elemental strengths and weaknesses
        elementalStrength = ElementalStrength.Water;
        elementalWeakness = ElementalWeakness.Fire;
    }

-----------------------------------------------------------------------------------------


//Overrided function from base Creature
    public override void Death()
    {
        base.Death();
		
		//Resetting the node the enemy died on
        Grid.Instance.GetNode(m_CreatureAi.m_Position.x, m_CreatureAi.m_Position.y).m_CreatureOnGridPoint = null;

        Grid.Instance.GetNode(m_CreatureAi.m_Position.x, m_CreatureAi.m_Position.y).m_IsCovered = false;
        
		
		//Spawning the Memoria at the position he died and sends the loot table
        Grid.Instance.GetNode(m_CreatureAi.m_Position.x, m_CreatureAi.m_Position.y).SpawnMemoria(m_SkillLootTable);
        
		
		//Removes the game object from scene
        Destroy(gameObject);
    }


------------------------------------------------------------------------------------------------

//individual node spawns the Memoria
    public void SpawnMemoria(List<Skills> a_Skills)
    {
	
//Grabs Memoria from objectpool
        m_MemoriaOnTop = CombatManager.Instance.ReturnMemoria();
 
 //Sets the position for the in game model based off a set constant
        m_MemoriaOnTop.transform.position =
            new Vector3( transform.position.x , transform.position.y  + Constants.Constants.m_HeightOffTheGrid , transform.position.z);


//Attaches the Skill Loot table
        m_MemoriaOnTop.AttachSkills(a_Skills);

//Sets its default position in the grid
        m_MemoriaOnTop.m_NodePosition = m_PositionInGrid;

//Sets the walking type to Memoria so when a creature walks on it the Memoria ui will be pushed
        m_WalkOnTopTriggerTypes = WalkOntopTriggerTypes.Memoria;

    }


	</textarea>
	 

		  
		  
		        <p>
		<b>Gameplay Example</b>
	 </p>
	  
	  <iframe width="975" height="315" src="https://www.youtube.com/embed/ISHEaCljIag" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </details>

      </article>
      </div>


</section>
</body>

	 
	 <p>
		<b>Twilights Call: A Hollow Heart</b> is still in development, but updates are routinely posted on my 	<a href="https://twitter.com/Kjtherocker1">Twitter Account</a> account 
	
	 </p>
	 


	  
	  <div class="gallery items-3">
        <div id="item-1" class="control-operator"></div>
        <div id="item-2" class="control-operator"></div>
        <div id="item-3" class="control-operator"></div>
    
         <figure class="item">
          <img src="Images/TwilightsR_1.png">
        </figure>
    
        <figure class="item">
          <img src="Images/TwilightsR_2.png">
        </figure>
    
        <figure class="item">
          <img src="Images/TwilightsR_3.png">
        </figure>
    
        <div class="controls">
          <a href="#item-1" class="control-button">•</a>
          <a href="#item-2" class="control-button">•</a>
          <a href="#item-3" class="control-button">•</a>
        </div>
      </div>

	  


      <!-- Fallen Night -->
	  
	  <img src="Images/FallenNightTitle.png" alt="Title">

      
      <br/>

	  <div class="tag tag-teal">School</div>
	  <div class="tag tag-yellow">AGILE</div>
      <div class="tag tag-blue">Unity</div>
      <div class="tag tag-yellow">Shader</div>
	  <div class="tag tag-yellow">Particle Effects</div>

      <p>
      <b>Fallen Knight</b> was a Third Year project developed using the Unity engine by a group of 9 people including myself.
	  Tasked with making a functional game over the length of 4 releases and 22, 2 week sprints I helped create the game called Fallen Knight.
	  Fallen knight is a first person action boss rush game with large inspiriations form the Dark souls games.
	  During the course of development I had to wear alot of hats in order to meet the dead lines.
	  </p>
	  
	  
	  <p>
 
	  </p>
	  
<div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	
          <summary>Tools Programmer</summary>
		   
     </p>
 	  <p>
		Created Debug manager to quickly execute parts of the bosses Ai for easy reiteration.
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="136">
	 
	 
//Initializion of debug buttons	 
    public void Init(string a_Name, DebugMenu a_DebugMenu, DebugButtonType a_DebugButtonType, Method a_Method)
    {
        m_Name = a_Name;
        m_ButtonText.text = a_Name;
        m_DebugMenu = a_DebugMenu;
        m_DebugbuttonType = a_DebugButtonType;
        m_Method = a_Method;
		
// Using a Lamdba mixed with a Delegate so when the button is clicked it will execute the method
        m_ReferenceToButton.onClick.AddListener(() => m_Method());
    } 
	
-----------------------------------------------------------------------------------------------------------------

	
//Setting A default debugging button
	
//Spawning the prefab of the button
	    DebugButton DebugButton = Instantiate<DebugButton>(m_Prefab_DebugButton, m_MenuScreens[m_MenuScreens.Count - 1].gameObject.transform);
        DebugButton.gameObject.transform.localPosition = new Vector3(ScreenX, ScreenY + i * Offset, 0);
		
		
//Hooking up the method this button will call 
        DebugButton.Init("Immortality On", this, DebugButton.DebugButtonType.DebugMenutype, m_Player.SetImmortalityToTrue);
		
		
		
		
		
-----------------------------------------------------------------------------------------------------------------
		
//Attaching the different Toad AI Move List gotten from the list of Enums
		for (int i = 0; i < m_ToadAttackMoves.Length; i++)
        {
         ToadDebugButton toadbutton = Instantiate<ToadDebugButton>(m_Prefab_DebugToadButton, m_MenuScreens[m_MenuScreens.Count - 1].gameObject.transform);
         toadbutton.gameObject.transform.localPosition = new Vector3(ScreenX, ScreenY + i * Offset, 0);
         toadbutton.Init(i, m_ToadAttackMoves[i], m_ToadReference);
        }
        

	</textarea>
	 

		  
		  
		        <p>
		<b>Gameplay Example</b>
	 </p>
	  
	  <iframe width="975" height="315" src="https://www.youtube.com/embed/ISHEaCljIag" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </details>

      </article>
      </div>


</section>
</body>

	  
	  

 <!-- Graphics Programmer-->
<div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	    
          <summary>Grapics Programmer</summary>
		   
     </p>
 	  <p>
		  As Graphics Programmer I created a Water shader and used depth buffer and vertex disfered rendering to create the shader.
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="136">
	 
Shader "OdellWaterShader" {
	Properties{
		_Color("Color", Color) = (1,1,1,1)
		_BlendColor("Blend Color", Color) = (1,1,1,1)
		_MainTex("Albedo (RGB)", 2D) = "white" {}
	_Glossiness("Smoothness", Range(0,1)) = 0.5
		_Metallic("Metallic", Range(0,1)) = 0.0
		_InvFade("Soft Factor", Range(0.01,3.0)) = 1.0
		_FadeLimit("Fade Limit", Range(0.00,1.0)) = 0.3
		_Scale("Scale", float) = 1
		_Speed("Speed", float) = 1
		_RipplePosition("Ripple Position",  Vector) = (0, 0, 0, 0)
		_WaterAlpha("WaterAlpha", float) = 0.9
		_Amplitude("RippleStrength", float) = 5
		_Wave("Wave", float) = 5
		_Frequency("Frequency", float) = 1
		_IsRippling("CanRipple", float) = 1
	}
		SubShader{
		Tags{ "Queue" = "Transparent" "RenderType" = "Transparent" }
		LOD 200

		CGPROGRAM
		// Physically based Standard lighting model, and enable shadows on all light types
#pragma surface surf Standard vertex:vert alpha:fade nolightmap

		// Use shader model 3.0 target, to get nicer looking lighting
#pragma target 3.0

		sampler2D _MainTex;

	struct Input {
		float2 uv_MainTex;
		float4 screenPos;
		float eyeDepth;
		float3 customValue;
	};

	half _Glossiness;
	half _Metallic;
	fixed4 _Color;
	fixed4 _BlendColor;
	float _Scale;
    float _Speed;
	float _Frequency;

	float _Amplitude;
	float _Wave;


	float _WaterAlpha;
	sampler2D_float _CameraDepthTexture;
	float4 _CameraDepthTexture_TexelSize;
	float4 _RipplePosition;
	float _FadeLimit;
	float _InvFade;

	float _IsRippling;

	void vert(inout appdata_full v, out Input o)
	{
		//NormalWave
		UNITY_INITIALIZE_OUTPUT(Input, o);
		COMPUTE_EYEDEPTH(o.eyeDepth);
		half offsetvert = ((v.vertex.x * v.vertex.x) + (v.vertex.z * v.vertex.z));
		half offsetvert2 = v.vertex.x + v.vertex.z;
		
// Calculating the waves time speed and frequency
		half value0 = _Scale * sin(_Time.w * _Speed * _Frequency + offsetvert2);


//Moving the vertex and normals to the new wave
		v.vertex.y += value0;
		v.normal.y += value0;
		o.customValue += value0;
		
	}

	void surf(Input IN, inout SurfaceOutputStandard o) {
// Albedo comes from a texture tinted by color
		fixed4 c = tex2D(_MainTex, IN.uv_MainTex) * _Color;
		o.Albedo = c.rgb;
// Metallic and smoothness come from slider variables
		o.Metallic = _Metallic;
		o.Smoothness = _Glossiness;


//Gets the camera depth buffer to calculate the rim
		float CameraDepth = SAMPLE_DEPTH_TEXTURE_PROJ(_CameraDepthTexture, UNITY_PROJ_COORD(IN.screenPos));
		float SceneDepth = LinearEyeDepth(CameraDepth);
		float partZ = IN.eyeDepth;

		float fade = 1.0;
		if (CameraDepth > 0.0) // Make sure the depth texture exists
//If the cameradepth is greater then create the rim
			fade = saturate(_InvFade * (SceneDepth - partZ));
		o.Alpha = c.a * fade; //(original line)
		
//Final Input
		o.Alpha = _WaterAlpha;
		
		if (fade < _FadeLimit)
		o.Albedo = c.rgb * fade + _BlendColor * (1 - fade);
	}
	ENDCG
	}
}

	</textarea>
	 

		  <img src="Images/Fallen1.gif" width="980" height="400">
		 
	  
        </details>

      </article>
      </div>


</section>
</body>
	  
	  <div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	     <!-- GamePlay Programmer-->
          <summary>Gameplay Programmer</summary>
		   
     </p>
 	  <p>
		 As a Gameplay Programmer I created intricate boss Ai. The bosses were designed with a giant state machine of the actions they will execute
	  and a complex web of when they would accomplish those actions.
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="150">
   public KingShieldCharge(AIController aAIController) : base(aAIController)
    {
        m_KingChargeTimer = Services.TimerManager.CreateTimer("m_KingChargeTimer", ChargeDuration, false);
        m_KingChargeDelayTimer = Services.TimerManager.CreateTimer("m_KingChargeDelayTimer", ChargeDelay, false);
    }


-----------------------------------------------------------------------------------------------------------------------


    public override void Start()
    {


        // Get the king's starting position
        m_PreMovePosition = ((AIKingController)m_AIController).transform.position;

        // Set hit and charging to false
        m_AlreadyHit = false;
        m_Charging = false;

        // Setup the timers
        m_KingChargeDelayTimer.Restart();

        // Start the animation
        ((AIKingController)m_AIController).m_Animator.SetTrigger("Charge");

    }

--------------------------------------------------------------------------------------------------------------------------

// Update is called once per frame
    public override void Update()
    {
// If the delay timer is running
        if(m_KingChargeDelayTimer.IsRunning() == true)
        {
// Turn to look at the player
            ((AIKingController)m_AIController).TurnToPlayer();
        }

// If the delay is done and the king isin't charging
        if (m_KingChargeDelayTimer.IsFinished() && m_Charging == false)
        {
// Set charging to true and start the charge timer
            m_Charging = true;
            m_KingChargeTimer.Restart();

// Sets the target's position to the Player's position and 
            m_TargetPosition = ((AIKingController)m_AIController).transform.position + (((AIKingController)m_AIController).transform.forward * (((AIKingController)m_AIController).GetDistanceToPlayer() + m_ChargeDistanceBehindPlayer));
        }

// If the king is charging
        if (m_KingChargeTimer.IsRunning() && m_Charging == true)
        {
// CHARGE!!!!!!
            ((AIKingController)m_AIController).transform.position = Vector3.Lerp(m_PreMovePosition, m_TargetPosition, m_KingChargeTimer.GetPercentage());
        }

// If the king is done charging
        if (m_KingChargeTimer.IsFinished() && m_Charging == true)
        {
 // If the animation is done
            if (((AIKingController)m_AIController).m_Animator.GetCurrentAnimatorStateInfo(0).IsTag("ShieldEnd") && ((AIKingController)m_AIController).m_Animator.GetCurrentAnimatorStateInfo(0).normalizedTime >= 0.98f || ((AIKingController)m_AIController).m_Animator.GetCurrentAnimatorStateInfo(0).normalizedTime >= 1.0f)
            {
// Attack is finished
                ((AIKingController)m_AIController).CurrentActionFinished();
            }
        }

// If the king is charging, hit the player and hasn't already hit the player
        if (m_Charging == true && ((AIKingController)m_AIController).m_KingChargeTrigger.m_IsPlayerinside == true && m_AlreadyHit == false)
        {
// Set hit to true
            m_AlreadyHit = true;

 // Deal Damage to player
            Services.GameManager.Player.TakeDamage(Constants.KingSheildChargeDamage);

// Set the force and radius
            float Force = 100;

// Push the player away
            Services.GameManager.Player.MovementController.PushPlayer(((AIKingController)m_AIController).transform.position, Force);
        }
    }
}

	</textarea>
	 

		  
	<iframe width="980" height="315" src="https://www.youtube.com/embed/X7-5bijzRQI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
 
	  
        </details>

      </article>
      </div>


</section>
</body>

	  <div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	
      <!-- Level Design -->
<summary>Level Designer</summary>
		   
     </p>
 	  <p>
      As a Level Designer I helped to design every level in the game. Using illustrator I would create a quick mockup of the level and hand it
	  to the artists to create art assets. After the assets were done I would help place every object in the game
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Overall Map design</b>
	 
	 </p>


  <p>
		Mockup
		
	 </p>
	 
	<img src="Images/Mockup1.png" alt="Title" width="980" height="700">
	
	
  <p>
		Final
		
	 </p>
<img src="Images/Final1.png" alt="Title" width="980" height="700">



	 	 <p>
		<b>Tutorial design</b>
	 
	 </p>


	<p>
		Mockup	
	</p>
	 
	<img src="Images/Mockup2.png" alt="Title" width="980" height="700">
	
	
	<p>
		Final
		
	</p>
<img src="Images/Final2.png" alt="Title" width="980" height="700">



		  
        </details>

      </article>
</div>


</section>
</body>

	  
	 <p>
      <b>Fallen Knight</b> was a great project to work on that helped me grow as a programmer and as a person. Communicating with a large group of 
	  people with hierarchy was a challenge but in the end we persisted and created a great work that we can all be proud of.
	  </p>


      <div class="gallery items-3">
        <div id="item-4" class="control-operator"></div>
        <div id="item-5" class="control-operator"></div>
        <div id="item-6" class="control-operator"></div>
    
        <figure class="item">
          <img src="Images/Fallen1.gif">
        </figure>
    
        <figure class="item">
          <img src="Images/Fallen2.gif">
        </figure>
    
        <figure class="item">
          <img src="Images/Fallen3.png">
        </figure>
    
        <div class="controls">
          <a href="#item-4" class="control-button">•</a>
          <a href="#item-5" class="control-button">•</a>
          <a href="#item-6" class="control-button">•</a>
        </div>
      </div>
	  <p>
	  
	  </p>

	   <!-- Original Twilights Call -->
<img src="Images/TwilightsCall.png" alt="Title" style="width:1000px;height:650px;">

        
		<a href="https://github.com/kjtherocker/Turnbased-project-Kyle-Stefano-Version-2" target="_blank"><div class="tag-link">Click this for Twilights Calls github page</div></a>
      <br/>

	  <div class="tag tag-teal">Personal Project</div>
      <div class="tag tag-teal">Unity</div>
      <div class="tag tag-blue">Shader</div>
      <div class="tag tag-yellow">Only Programmer</div>

      <p>
       <b>Twilight's Call: Original</b> is a Turnbased strategy game Created by me and my partner Stefano Pinto over the summer of 2018.
	   I did all of the code for the game and my partner made all the models. 
	   </p>
	   
	   
	   
      <p>
       The original Twilights call is a recreation of Shin Megami Tensei: Nocturnes, combat system known as the Press Turn System.
	   Each enemy has different strengths and weaknesses that the player can abuse to change the turn order. The combat is alot more 
	   dyamic then most turn based games giving the player more options in combat.
	   </p>
	   
	   	  
	  <div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	     <!-- GamePlay Programmer-->
          <summary>Camera Manager</summary>
		   
     </p>
 	  <p>
		One of the harder things to get right was a Camera manager that would accurately go to the positions I desired.
		I created a switch statement with a enum to control what state the camera should be.
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="136">



// Switch statement connected to an enum of camera states
        switch (m_cameraState)
        {
		
		//On nothing do nothing
            case CameraState.Nothing:


                break;

//Getting the normal state of right behind the player
            case CameraState.Normal:
                if (m_Grid.m_GridPathArray != null)
                {
                    m_CreatureTheCameraIsOn = m_Creature.ModelInGame.transform.position;

                    transform.position = Vector3.Lerp(transform.position, new Vector3(
                        m_CreatureTheCameraIsOn.transform.position.x + NormalOffset.x,
                        m_CreatureTheCameraIsOn.transform.position.y +  NormalOffset.y,
                        m_CreatureTheCameraIsOn.transform.position.z -  NormalOffset.z), Time.deltaTime * 2);
                }

     

                PlayerUiSelection();

                break;

//When a player moves the camera follows
            case CameraState.PlayerMovement:

   
                   transform.position = Vector3.Lerp(transform.position, new Vector3(
                       m_Creature.ModelInGame.transform.position.x + MovementOffset.x,
                       m_Creature.ModelInGame.transform.position.y + MovementOffset.y,
                       m_Creature.ModelInGame.transform.position.z - MovementOffset.z), Time.deltaTime * 2);
               


                break;


//When the player is attacking
            case CameraState.PlayerAttack:
       
				transform.position = Vector3.Lerp(transform.position, new Vector3(
                       m_Creature.ModelInGame.transform.position.x + MovementOffset.x,
                       m_Creature.ModelInGame.transform.position.y + MovementOffset.y,
                       m_Creature.ModelInGame.transform.position.z - MovementOffset.z), Time.deltaTime * 2);

                break;


//When the enemy moves

            case CameraState.EnemyMovement:
                if (m_Grid.m_GridPathArray != null)
                {
      
                    transform.position = Vector3.Lerp(transform.position, new Vector3(
                        m_Creature.ModelInGame.transform.position.x + MovementOffset.x,
                        m_Creature.ModelInGame.transform.position.y + MovementOffset.y,
                        m_Creature.ModelInGame.transform.position.z - MovementOffset.z), Time.deltaTime * 2);
                }

                break;

            case CameraState.EnemyAttack:


                break;
        }


	</textarea>
	 

	  
        </details>

      </article>
      </div>


</section>
</body>


	  <div id="demobox">
	<body>
    <section>
      <article>
        <details>
		
			 
	     <!-- UI Manager-->
          <summary>Ui Manager</summary>
		   
     </p>
 	  <p>
		A turn based strategy game is mostly User interface so creating a strong manager was something I set out to accomplish.
		The Ui Manager is a singleton that has a reference to each of the different Ui screens. Attached in a Dicitionary like list
		a key of an enum is placed of each ui screen and a value of the screen we are pushing.
		
	 </p>
	 

	 
	 
	 	 <p>
		<b>Code Example</b>
	 
	 </p>
	 
	 <textarea id="w3review" name="w3review" rows="40" cols="136">



//Takes in an Enum type as an argument such as Screen.CommandBoard
    public void PushScreen(Screen aScreen)
    {


//Gets the screen from the list like dicitionary
        UiScreen screenToAdd = m_UiScreens[(int)aScreen];
//We tell the screen to do its push
        screenToAdd.OnPush();



        Debug.Log(screenToAdd.ToString());

//Add this screen to the stack for easy removal and management
        m_ScreenStack.Add(new KeyValuePair<Screen, UiScreen>(aScreen, screenToAdd));
        m_ScreenStack[m_ScreenStack.Count - 1].Value.m_InputActive = true;
    }

--------------------------------------------------------------------------------------------

//Pop Takes in no arguements because we want to remove whatever is on top without knowing whats on top
    public void PopScreen()
    {
	
        if (m_LastScreen.Count > 1)
        {
            m_LastScreen.RemoveAt(0);
        }

//Keeping track of what was the last screen that was removed
        m_LastScreen.Add(m_ScreenStack[m_ScreenStack.Count - 1].Key);
		
//Telling the top of the stack to do its pop method
        m_ScreenStack[m_ScreenStack.Count - 1].Value.OnPop();
//Finally remove the screen from the stack
        m_ScreenStack.RemoveAt(m_ScreenStack.Count - 1);
       
    }


	</textarea>
	 


        </details>

      </article>
      </div>


</section>
</body>


<p>
<b>Twilight's Call: Original</b> was a great test of my skills for a second year game development student.
 I learned alot about different Design Patterns and how best to implement them into functional game code.
</p>

     <iframe width="1000" height="315" src="https://www.youtube.com/embed/7mo5eiskmc4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

      <div class="gallery items-3">
        <div id="item-7" class="control-operator"></div>
        <div id="item-8" class="control-operator"></div>
        <div id="item-9" class="control-operator"></div>
    
        <figure class="item">
          <img src="Images/Twilight1.png">
        </figure>
    
        <figure class="item">
          <img src="Images/Twilight2.png">
        </figure>
    
        <figure class="item">
          <img src="Images/Twilight3.png">
        </figure>
    
        <div class="controls">
          <a href="#item-7" class="control-button">•</a>
          <a href="#item-8" class="control-button">•</a>
          <a href="#item-9" class="control-button">•</a>
        </div>
      </div>

    </div>
  </div>
</body>
</html>
