<!doctype html>
<html lang="en">
    <head>
        <title>Kyle Johnson - Portfolio</title>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap Integration -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

        <!-- Bootstrap Icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

        <!-- Highlight JS code block highlighting -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/stackoverflow-dark.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>

        <!-- Custom CSS -->
        <style>
            .hover-action {
                cursor: pointer;
                transition: 0.5s ease;
                height: 300px;
                margin-bottom: 0 !important;
            }

            .hover-action:hover {
                -webkit-transform: scale(0.95);
                -ms-transform: scale(0.95);
                transform: scale(0.95);
                transition: 0.5s ease;
            }
        </style>
    </head>
    <body>

        <!-- Navigation Bar -->
        <nav class="navbar fixed-top navbar-dark bg-dark navbar-expand-lg" style="background-color: rgba(0, 0, 0, .85) !important; -webkit-backdrop-filter: saturate(180%) blur(20px) !important; backdrop-filter: saturate(180%) blur(20px) !important;">
            <div class="container">
                <!-- Home -->
                <a class="navbar-brand d-flex align-items-center" href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-joystick me-2" viewBox="0 0 16 16">
                    <path d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2z"/>
                    <path d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23z"/>
                    </svg>
                    <strong>Kyle Johnson</strong>
                </a>

                <!-- Mobile Support -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Menu Items -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/portfolio.html">Portfolio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/resume.html">Resume</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/workExp.html">Work Experience</a>
                    </li>
                    </ul>
                </div>
            </div>
        </nav><br/><br/><br/>

        <div class="container mt-5 mb-5">
            <!-- Header and Source Buttons -->
            <div class="row">
                <div class="col-lg-6">
                 <img style="width: 75%; "src="../Images/TCTD.png">
                    <h6 style="color: #727272;">Personal Project, Unity, C#, Only Developer</h6>
                </div>
                <div class="col-lg-6">
					<a href="https://drive.google.com/drive/folders/1O6BKE4tHSP9RzG-d5ZYVq2tUFe7Srt9h?usp=sharing" class="btn btn-dark float-end mt-3 ms-2"><i class="bi bi-github me-1"></i> Game Build</a>
                </div>
            </div>

            <!-- Description of Project -->
            <div class="row mt-2 gx-5 gy-5">
                <div class="col-lg-6">
					<iframe style="width: 100%; height: 40vh;"src="https://www.youtube.com/embed/0vU-RKz3A7w" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="col-lg-6">
                    <strong>Twilight's Call: Tower Defence</strong> is a project I made to try and get used to the Unreal Game Engine while reusing assets from
					Twilights Call's to quickly speed up development time. 
					<br></br>
						
		 		     <p>
					<strong>Twilight's Call: Tower Defence</strong>> is a very basic Tower Defence game. You can place towers and when an enemy
					enters the Turrets range it fires a projectile to attack the enemy. When an enemy has incurred too much 
					damage it will die and give the player more money to buy more turrets.
					</p>
	   
                </div>                

				
            </div>

            <!-- Source Code -->
            <div class="row mt-4 gx-5 gy-5">
                <div class="col-lg-3">
                    <h3 class="mt-3">Turret Lock Calculation</h3> 
                    <p> 		
					Each Turret has an area around itself and when an enemy enters or leaves its collision radius it triggers the
					turret to recalulate. The calculation is handled inside the enemy class. Enemy keeps track of how close it is 
					to the current waypoint based on distance and how much distance is there between every other waypoint.
                </div>
                <div class="col-lg-9">
                    <pre>
                        <code class="language-cs" style="width: 100%; height: 50vh;">

// returns the full distance from start to end
float AEnemy_Base::CalculateDistanceFromRemainingToEnd()
{
	
	TArray<FVector> TempWaypoints = Waypoints;
	float TempDistance = 0;
	
// if there is less then two checkpoints remaining then we will return 0
	if(!TempWaypoints.IsValidIndex(0) ||!TempWaypoints.IsValidIndex(1) )
	{
		return 0;
	}


//Loop through each of the waypoints but remove one since we are incrementing above the List 
	for(int i = 0; i < TempWaypoints.Num() - 1;i++)
	{
		if(TempWaypoints.IsValidIndex(i + 1))
		{
//Calculating the Distance Between the current waypoint and the next 
			TempDistance +=  FVector::Dist(TempWaypoints[i], TempWaypoints[i + 1]);
		}
	}
	
	return TempDistance;
}

----------------------------------------------------------------------------------------------------


//Used when we have reached the current checkpoint and we are asking for the next one 
void AEnemy_Base::GoToNextWaypoint()
{
//If there are no waypoints left the enemy has gotten to the goal


	if(Waypoints.Num() == 0)
	{
		EnemyGotToGoal();
		return;
	}


//Calculating the distance between all the waypoints remaining
	DistanceInAllRemainingWaypoints = CalculateDistanceFromRemainingToEnd();
	
//Attaching waypoint
	CurrentWaypoint = Waypoints[0];
	Waypoints.RemoveAt(0);

}


-----------------------------------------------------------------------------------------------


// Called in update
public void AEnemy_Base::MoveToWaypoint(float aDeltaTime)
{
	DistanceToCurrentWaypoint = FVector::Dist(GetActorLocation(), GoToWaypoint);
	CurrentDistanceRemaining = DistanceToCurrentWaypoint + DistanceInAllRemainingWaypoints;
}


-----------------------------------------------------------------------------------------------

// Inside the Turret, This is called every time someone enters or leaves the collision radius

void ATurret::CalculateClosestEnemy()
{
//If there is no enemy in range then exit the function
	if(!EnemyInRange.IsValidIndex(0))
	{
		return;
	}
	
	
//Setting the Default starting enemy for comparison

	AEnemy_Base* EnemyTemp = Cast<AEnemy_Base>(EnemyInRange[0]);
	
//If there is more then one enemy do the calculations
	
	if(EnemyInRange.Num() > 1)
	{
		for (int i = 0; i < EnemyInRange.Num(); i++)
		{
			
		
			AEnemy_Base* IterativeEnemy = Cast<AEnemy_Base>(EnemyInRange[i]);

//If the Waypoints are not initialize then continue the loop
			if(IterativeEnemy->WaypointsAreSet == false)
			{
				continue;
			}


//Getting the absolute value of the distances
			float EnemyA = abs(IterativeEnemy->DistanceLeftInLevel);
			float EnemyB = abs(EnemyTemp->DistanceLeftInLevel);


//Safety Check that if both values are 0 then something wrong is happening
			if(EnemyA == 0 || EnemyB == 0 )
			{
				continue;
			}
			
			
//Direct comparison between the two values the shortest distance will be swapped
			if(EnemyA < EnemyB )
			{
				EnemyTemp = IterativeEnemy;
			}
		}
	}
	
	
// The enemy that is furthest ahead will be selected.
	EnemyToAttack = EnemyTemp;
	
//Adding the enemy to a delegate that gets called when the enemy is killed
	EnemyToAttack->EnemyDeathEvent.AddDynamic(this, &ATurret::EnemyWasKilled);
}





                        </code>
                    </pre>
                </div>
            </div>


            <!-- Gallery -->
            <h3>Gallery</h3>
            <br/>
            <div class="row gx-5 gy-5">
                <div class="col-lg-4">
                    <img style="width: 100%; "src="../Images/TCTD1.png">
                </div>
                <div class="col-lg-4">
                    <img style="width: 100%; "src="../Images/TCTD2.png">
                </div>
                <div class="col-lg-4">
                    <img style="width: 100%; "src="../Images/TCTD3.png">
                </div>
            </div>
        </div>
    </body>
</html>
